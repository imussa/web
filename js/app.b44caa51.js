(function(t){function e(e){for(var n,s,c=e[0],i=e[1],l=e[2],d=0,p=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,c=1;c<o.length;c++){var i=o[c];0!==a[i]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=o[0]))}return t}var n={},a={app:0},r=[];function s(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=n,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(o,n,function(e){return t[e]}.bind(null,n));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=i;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[o("v-spacer"),t.token?o("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,a=e.attrs;return[o("v-btn",t._g(t._b({attrs:{text:""}},"v-btn",a,!1),n),[o("span",{staticClass:"mr-2"},[t._v(t._s(t.username))]),o("v-icon",[t._v("mdi-menu-down")])],1)]}}],null,!1,2847648669)},[o("v-list",[o("v-list-item",{on:{click:t.logout}},[o("v-list-item-title",[t._v("退出")])],1)],1)],1):o("v-btn",{attrs:{outlined:"",text:""},on:{click:t.login}},[o("span",[t._v("登录")])])],1),o("v-content",[o("HelloWorld",{model:{value:t.list,callback:function(e){t.list=e},expression:"list"}})],1)],1)},r=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-row",{staticClass:"text-center"},[o("v-col",{attrs:{cols:"12"}},[o("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[o("thead",[o("tr",[o("th",{staticClass:"text-left"},[t._v("平台")]),o("th",{staticClass:"text-left"},[t._v("账号")]),o("th",{staticClass:"text-left"},[t._v("密码")]),o("th",{staticClass:"text-left"},[t._v("描述")]),o("th",{staticClass:"text-left"},[t._v("操作")])])]),o("tbody",[t._l(t.list,(function(e,n){return o("tr",{key:n},[o("td",{staticClass:"text-left"},[t._v(t._s(e.platform))]),o("td",{staticClass:"text-left"},[t._v(t._s(e.account))]),o("td",{staticClass:"text-left"},[t._v(t._s(e.password))]),o("td",{staticClass:"text-left"},[t._v(t._s(e.description))]),o("td",{staticClass:"text-left"},[o("v-btn",{attrs:{icon:""}},[o("v-icon",[t._v("mdi-lead-pencil")])],1),o("v-btn",{attrs:{icon:""},on:{click:function(o){return t.delete_item(e.url)}}},[o("v-icon",[t._v("mdi-delete")])],1)],1)])})),o("tr",[o("td",{staticClass:"pt-5"},[o("v-text-field",{attrs:{outlined:"",dense:"",label:"平台"},model:{value:t.record.platform,callback:function(e){t.$set(t.record,"platform",e)},expression:"record.platform"}})],1),o("td",{staticClass:"pt-5"},[o("v-text-field",{attrs:{outlined:"",dense:"",label:"账号"},model:{value:t.record.account,callback:function(e){t.$set(t.record,"account",e)},expression:"record.account"}})],1),o("td",{staticClass:"pt-5"},[o("v-text-field",{attrs:{outlined:"",dense:"",label:"密码"},model:{value:t.record.password,callback:function(e){t.$set(t.record,"password",e)},expression:"record.password"}})],1),o("td",{staticClass:"pt-5"},[o("v-textarea",{attrs:{outlined:"",dense:"",rows:"1",label:"描述"},model:{value:t.record.description,callback:function(e){t.$set(t.record,"description",e)},expression:"record.description"}})],1),o("td",[o("v-btn",{attrs:{color:"primary"},on:{click:t.create_item}},[t._v("新建")])],1)])],2)]},proxy:!0}])})],1)],1)],1)},c=[],i=(o("a4d3"),o("e01a"),o("c740"),o("5530")),l=o("2f62");o("c975"),o("a434");function u(t,e){t.push(e)}function d(t,e,o){t.splice(e,1,o)}function p(t,e){t.splice(t.indexOf(e),1)}function f(t,e){t.splice(e,1)}var m={computed:Object(i["a"])({},Object(l["c"])(["token","username"])),methods:Object(i["a"])({},Object(l["b"])(["setToken","setUsername"]))},v={methods:{createItem:u,updateItem:d,removeItem:p,removeItemByIndex:f}},h={methods:{createTokenRequest:function(t){return this.$http.create({headers:{Authorization:t}})}}},b={name:"HelloWorld",mixins:[m,v,h],model:{prop:"list",event:"change"},props:{list:{type:Array,default:function(){}}},data:function(){return{record:{platform:"",account:"",password:"",description:""}}},methods:{create_item:function(){var t=this,e=t.createTokenRequest(t.token);e.post("https://imussatools.herokuapp.com/api/records/",t.record).then((function(e){t.createItem(t.list,e.data),t.record.platform="",t.record.account="",t.record.password="",t.record.description=""})).catch((function(e){console.log(e),t.record.platform="",t.record.account="",t.record.password="",t.record.description=""})),console.log("create a new item")},delete_item:function(t){var e=this,o=e.createTokenRequest(e.token);o.delete(t).then((function(){var o=e.list.findIndex((function(e){return e.url==t}));e.removeItemByIndex(e.list,o)})).catch((function(t){console.log(t)})),console.log("delete a item")}}},_=b,w=o("2877"),g=o("6544"),k=o.n(g),x=o("8336"),y=o("62ad"),C=o("a523"),I=o("132d"),O=o("0fd9"),V=o("1f4f"),S=o("8654"),T=o("a844"),j=Object(w["a"])(_,s,c,!1,null,null,null),$=j.exports;k()(j,{VBtn:x["a"],VCol:y["a"],VContainer:C["a"],VIcon:I["a"],VRow:O["a"],VSimpleTable:V["a"],VTextField:S["a"],VTextarea:T["a"]});var A={name:"App",mixins:[m,h],created:function(){var t=window.localStorage.getItem("token"),e=window.localStorage.getItem("username");null!=t&&(this.setToken(t),this.setUsername(e))},mounted:function(){var t=this;t.get_records()},components:{HelloWorld:$},data:function(){return{gituhbUrl:"https://github.com/login/oauth/authorize?client_id=43fdd91adee9e67a78ad&redirect_uri=https%3A%2F%2Fimussatools.herokuapp.com%2Foauth%2Fgithub_callback%2F&scope=user%3Aemail",list:[]}},methods:{login:function(){var t=this;window.open(t.gituhbUrl,"newwindow","height=500, width=500, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=n o, status=no"),window.addEventListener("message",(function(e){t.setToken(e.data.token),t.setUsername(e.data.username),window.localStorage.setItem("token",e.data.token),window.localStorage.setItem("username",e.data.username),t.get_records()}),!1)},logout:function(){this.setToken(""),this.setUsername(""),window.localStorage.removeItem("token"),window.localStorage.removeItem("username"),this.list=[]},get_records:function(){var t=this,e=t.createTokenRequest(t.token);e.get("https://imussatools.herokuapp.com/api/records/").then((function(e){t.list=e.data})).catch((function(t){console.log(t)}))}}},P=A,U=o("7496"),F=o("40dc"),B=o("a75b"),M=o("8860"),R=o("da13"),q=o("5d23"),L=o("e449"),z=o("2fa4"),E=Object(w["a"])(P,a,r,!1,null,null,null),H=E.exports;k()(E,{VApp:U["a"],VAppBar:F["a"],VBtn:x["a"],VContent:B["a"],VIcon:I["a"],VList:M["a"],VListItem:R["a"],VListItemTitle:q["a"],VMenu:L["a"],VSpacer:z["a"]});var W=o("f309");n["a"].use(W["a"]);var J=new W["a"]({}),D=o("bc3a"),G=o.n(D),K=o("a7fe"),N=o.n(K);n["a"].use(N.a,G.a),n["a"].use(l["a"]);var Q=new l["a"].Store({state:{token:"",username:""},mutations:{setToken:function(t,e){t.token=e},setUsername:function(t,e){t.username=e}},actions:{},modules:{}});n["a"].config.productionTip=!1,new n["a"]({vuetify:J,store:Q,render:function(t){return t(H)}}).$mount("#app")}});
//# sourceMappingURL=app.b44caa51.js.map